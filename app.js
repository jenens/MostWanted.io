var dataObject = [
{   "id": "272822514",
"firstName": "Billy",
"lastName": "Bob",
"gender": "male",
"dob": "1/18/1949",
"height": 71,
"weight": 175,
"eyeColor": "brown",
"occupation": "programmer",
"parents": [],
"currentSpouse": 401222887},
{   "id": "401222887",
"firstName": "Uma",
"lastName": "Bob",
"gender": "female",
"dob": "4/1/1947",
"height": 65,
"weight": 162,
"eyeColor": "brown",
"occupation": "assistant",
"parents": [],
"currentSpouse": 272822514},
{   "id": "409574486",
"firstName": "Michael",
"lastName": "Walkens",
"gender": "male",
"dob": "5/9/1951",
"height": 76,
"weight": 250,
"eyeColor": "brown",
"occupation": "landscaper",
"parents": [],
"currentSpouse": 260451248},
{   "id": "260451248",
"firstName": "Jon",
"lastName": "Walkens",
"gender": "male",
"dob": "9/6/1945",
"height": 62,
"weight": 115,
"eyeColor": "brown",
"occupation": "assistant",
"parents": [],
"currentSpouse": 409574486},
{   "id": "629807187",
"firstName": "Jack",
"lastName": "Pafoy",
"gender": "male",
"dob": "3/16/1938",
"height": 70,
"weight": 207,
"eyeColor": "black",
"occupation": "nurse",
"parents": [],
"currentSpouse": 464142841},
{   "id": "464142841",
"firstName": "Jen",
"lastName": "Pafoy",
"gender": "female",
"dob": "4/10/1940",
"height": 72,
"weight": 256,
"eyeColor": "black",
"occupation": "student",
"parents": [],
"currentSpouse": 629807187},
{   "id": "982411429",
"firstName": "Mister",
"lastName": "Potatoo",
"gender": "male",
"dob": "12/18/1952",
"height": 66,
"weight": 170,
"eyeColor": "hazel",
"occupation": "architect",
"parents": [],
"currentSpouse": 595767575},
{   "id": "595767575",
"firstName": "Missuz",
"lastName": "Potatoo",
"gender": "female",
"dob": "10/28/1948",
"height": 59,
"weight": 137,
"eyeColor": "blue",
"occupation": "architect",
"parents": [],
"currentSpouse": 982411429},
{   "id": "693243224",
"firstName": "Joy",
"lastName": "Madden",
"gender": "female",
"dob": "4/20/1939",
"height": 69,
"weight": 199,
"eyeColor": "hazel",
"occupation": "doctor",
"parents": [],
"currentSpouse": 693243224},
{   "id": "888201200",
"firstName": "Mader",
"lastName": "Madden",
"gender": "male",
"dob": "5/6/1937",
"height": 76,
"weight": 205,
"eyeColor": "black",
"occupation": "landscaper",
"parents": [],
"currentSpouse": 888201200},
{   "id": "878013758",
"firstName": "Jill",
"lastName": "Pafoy",
"gender": "Bob",
"dob": "2/8/1972",
"height": 74,
"weight": 118,
"eyeColor": "brown",
"occupation": "programmer",
"parents": [401222887,401222887],
"currentSpouse": 294874671},
{   "id": "951747547",
"firstName": "Ralph",
"lastName": "Bob",
"gender": "male",
"dob": "12/23/1969",
"height": 66,
"weight": 179,
"eyeColor": "blue",
"occupation": "nurse",
"parents": [401222887,401222887],
"currentSpouse": 159819275},
{   "id": "159819275",
"firstName": "Jasmine",
"lastName": "Bob",
"gender": "female",
"dob": "12/18/1969",
"height": 58,
"weight": 156,
"eyeColor": "blue",
"occupation": "assistant",
"parents": [409574486,260451248],
"currentSpouse": 951747547},
{   "id": "348457184",
"firstName": "Annie",
"lastName": "Pafoy",
"gender": "female",
"dob": "11/4/1970",
"height": 62,
"weight": 235,
"eyeColor": "hazel",
"occupation": "landscaper",
"parents": [629807187,464142841],
"currentSpouse": null},
{   "id": "294874671",
"firstName": "Dave",
"lastName": "Pafoy",
"gender": "male",
"dob": "8/5/1967",
"height": 61,
"weight": 112,
"eyeColor": "green",
"occupation": "doctor",
"parents": [629807187,464142841],
"currentSpouse": 878013758},
{   "id": "931247228",
"firstName": "Amii",
"lastName": "Pafoy",
"gender": "female",
"dob": "3/13/1963",
"height": 74,
"weight": 184,
"eyeColor": "brown",
"occupation": "landscaper",
"parents": [629807187,464142841],
"currentSpouse": null},
{   "id": "822843554",
"firstName": "Regina",
"lastName": "Madden",
"gender": "female",
"dob": "7/26/1959",
"height": 71,
"weight": 249,
"eyeColor": "brown",
"occupation": "nurse",
"parents": [693243224, 888201200],
"currentSpouse": null},
{   "id": "819168108",
"firstName": "Hana",
"lastName": "Madden",
"gender": "female",
"dob": "10/7/1953",
"height": 70,
"weight": 187,
"eyeColor": "brown",
"occupation": "politician",
"parents": [693243224, 888201200],
"currentSpouse": null},
{   "id": "969837479",
"firstName": "Eloise",
"lastName": "Madden",
"gender": "female",
"dob": "12/11/1961",
"height": 63,
"weight": 241,
"eyeColor": "brown",
"occupation": "assistant",
"parents": [693243224, 888201200],
"currentSpouse": null},
{   "id": "313207561",
"firstName": "Mattias",
"lastName": "Madden",
"gender": "male",
"dob": "2/19/1966",
"height": 70,
"weight": 110,
"eyeColor": "blue",
"occupation": "assistant",
"parents": [693243224, 888201200],
"currentSpouse": 313997561},
{   "id": "313997561",
"firstName": "Ellen",
"lastName": "Madden",
"gender": "female",
"dob": "2/19/1970",
"height": 67,
"weight": 100,
"eyeColor": "blue",
"occupation": "doctor",
"parents": [],
"currentSpouse": 313207561},
{   "id": "313998000",
"firstName": "Joey",
"lastName": "Madden",
"gender": "female",
"dob": "2/02/1987",
"height": 67,
"weight": 100,
"eyeColor": "blue",
"occupation": "doctor",
"parents": [313207561,313997561],
"currentSpouse": null}
];

function getFirstNameParam(elementId){
    return document.getElementById(elementId).value;
}
function getLastNameParam(elementId){
    return document.getElementById(elementId).value;
}

function printListToPage(output, elementId){
    document.getElementById(elementId).innerHTML = output;
}
//THIS FUNCTION PRINTS JUST THE NAMES
function printNamesOf(people){
    var names = people.map(function(person){
        return person.firstName + " " + person.lastName;
    }).toString();
    return names;
}

function getOutputFor(people){
    return people.map(markup).join("");
}

function markup(person){
  if (person == null){
    return "<div>There are no results.</div>";
  }
    var output = "<div>";
    output += "<p> Name: " + person.firstName + " " + person.lastName + "</p>";
    output += "<p> Date of Birth: " + person.dob + "</p>";
    output += "<p> Height: " + person.height + "</p>";
    output += "<p> Weight: " + person.weight + "</p>";
    output += "<p> Eye Color: " + person.eyeColor + "</p>";
    output += "<p> Occupation: " + person.occupation + "</p>";
    output += "<p> Parents: " + person.parents + "</p>";
    output += "<p> Current Spouse: " + person.currentSpouse + "</p>";
    return output;
}
//THIS CALL PRINTS RESULTS OF OTHER FUNCTIONS TO PAGE        THIS NUMBER IN DATAOBJECT REFERS TO JOY MADDEN
// printListToPage(printNamesOf(getDescendantsRecursively(dataObject[9], dataObject)));

function getInformation(firstName, lastName){
    for(var i = 0; i < dataObject.length; i++){
        if (firstName == dataObject[i].firstName && lastName == dataObject[i].lastName){
            return(dataObject[i]);
        }
    }
}

function getDescendantsRecursively (person, everyone, allDescendants = []){
    for (var i = 0; i < everyone.length; i++){
        if (everyone[i].parents.length !== 0){
            var id = person.id;
            var firstParentId = everyone[i].parents[0];
            var secondParentId = everyone[i].parents[1];
            if (id == firstParentId || id == secondParentId){
                allDescendants.push(everyone[i]);
                getDescendantsRecursively(everyone[i], everyone, allDescendants);
            }
        }
    }
    return allDescendants;
}
// Call for Recursive Function
// getDescendantsRecursively(dataObject[9], dataObject);

function getParents(person){
    var parents = [];
    for (var i = 0; i < dataObject.length; i++){
        var parentOneIdString = person.parents[0];
        var parentTwoIdString = person.parents[1];
        var allObjectsId = parseInt(dataObject[i].id);
        if (parentOneIdString === allObjectsId || parentTwoIdString === allObjectsId){
            parents.push(dataObject[i]);
        }
    }
    return parents;
}

function getSiblings(person){
    var siblings = [];
    for (var i = 0; i < dataObject.length; i++){
        var personsFirstParent = person.parents[0];
        var allObjectsFirstParent= dataObject[i].parents[0];
        var personsSecondParent = person.parents[1];
        var allObjectsSecondParent = dataObject[i].parents[1];
        if (person.id === dataObject[i].id){
            //do nothing
        }
        else if (personsFirstParent === allObjectsFirstParent || personsSecondParent === allObjectsSecondParent){
            siblings.push(dataObject[i]);
        }
    }
    return siblings;
}
//THIS IS THE CALL FOR ABOVE FUNCTION. REMINDER TO PASS GETINFORMATION() INTO THE PARAMETERS OF THE CALL TO MAKE FUNCTION WORK.
// getSiblings(getInformation(firstName, lastName));

function getSpouse(person){
    for (var i = 0; i < dataObject.length; i++){
        var idIntoANumber = parseInt(person.id);
        var currentSpouseId = dataObject[i].currentSpouse;
        if (idIntoANumber === currentSpouseId){
            return (dataObject[i]);
        }
    }
    return null;
}

function getChildren(person){
    var children = [];
    for (var i = 0; i < dataObject.length; i++){
        var idIntoANumber = parseInt(person.id);
        var firstParentId = dataObject[i].parents[0];
        var secondParentId = dataObject[i].parents[1];
        if (idIntoANumber === firstParentId || idIntoANumber === secondParentId){
            children.push(dataObject[i]);
        }
    }
    return children;
}

function getImmediateFamily(person){

}

function getOldestPerson(people){
  var person = null;
  for(var i = 0; i < people.length; i++){
    if(person == null){
      person = people[i];
    }else if(people[i].dob > person.dob){
      person = people[i];
    }
  }
  return person;
}

function getNextOfKin(person)
{
  var spouse = getSpouse(person);
  if(spouse !== null){
    return spouse;
  }
  var child = getOldestPerson(getChildren(person));
  if(child !== null){
    return child;
  }
  var parent = getOldestPerson(getParents(person));
  if (parent !== null){
    return parent;
  }
  var sibling = getOldestPerson(getSiblings(person));
  if (sibling!== null){
    return sibling;
  }
  return null;
}

function getAge(dateString) {
    var today = new Date();
    var birthDate = new Date(dateString);
    var age = today.getFullYear() - birthDate.getFullYear();
    var m = today.getMonth() - birthDate.getMonth();
    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
        age--;
    }
    return age;
}
//Link for above function = http://stackoverflow.com/questions/4060004/calculate-age-in-javascript

function getPersonByFilter(age, range, height, weight, occupation, eyecolor){
  var people = dataObject;
  if (age !== null){
    people.filter(function(person){
      return getAge(person.dob) == age;
    });
  }
  if (range !== null){
    people.filter(function(person){
      return getAge(person.dob) == range;
    });
  }
  if (height !== null){
    people.filter(function(person){
      return person.height == range;
    });
  }
  if (weight !== null){
    people.filter(function(person){
      return person.weight == weight;
    });
  }
  if (occupation !== null){
    people.filter(function(person){
      return person.occupation == occupation;
    });
  }
  if (eyecolor !== null){
    people.filter(function(person){
      return person.occupation == occupaton;
    });
  }
}

//THIS FUNCTION SHOULD BE ABLE TO CONCAT THE RESULTS OF ALL PREVIOUS FUNCTIONS TO GET IT READY TO BE DISPLAYED, NEEDS WORK.
function concatInfo(){
    var personInfo = getInformation(firstName, lastName);
    var informationResults = "";
    for (var i=0; i < personInfo.length; i++){
        informationResults +="<br>ID: " + resultsArray[i]['id'] + "<br> First Name: " + resultsArray[i]['firstName'] + " Last Name: " +
        resultsArray[i]['lastName'] + "<br> Gender: " + resultsArray[i]['gender'] + "<br> Date of Birth: " + resultsArray[i]['dob'] +
        "<br> Height: " + resultsArray[i]['height'] + " <br>Weight: " + resultsArray[i]['weight'] + " <br>Eye Color: " + resultsArray[i]['eyeColor'] +
        " <br>Occupation: " + resultsArray[i]['occupation'] + " <br>Parents: " + resultsArray[i]['parents'] + " <br>Current Spouse: " +
        resultsArray[i]['currentSpouse'];
    }
    // console.log(informationResults); <--- used this to see what to put in our test.
    return informationResults;
}

//THIS FUNCTION SHOULD BE ABLE TO ACTUALLY DISPLAY THE RESULTS FROM CONCATINFO TO THE HTML PAGE, NEEDS WORK.
function displayResults(informationResults){
    document.getElementById("targetInfo").innerHTML = informationResults;
}

// this is to initialize multiple select dropdown on html page
$(document).ready(function(){
    $('select').material_select();
});
